<div class="table-responsive">
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th>#</th>
        <th><%= Issue.human_attribute_name('title') %></th>
        <th><%= Project.model_name.human %></th>
        <th><%= Issue.human_attribute_name('description') %></th>
        <th><%= Issue.human_attribute_name('status') %></th>
        <th><%= Issue.human_attribute_name('priority') %></th>
        <th><%= Issue.human_attribute_name('issue_type') %></th>
        <th><%= t('shared.index_views.actions') %></th>
      </tr>
    </thead>
    <tbody>
      <% issues.each do |issue| %>
        <tr>
          <th><%= issue.id %></th>
          <th>
            <%= "#{truncate(issue.title)} (" %>
            <%= link_to "##{issue.id}", project_issue_path(issue.project.sequence_num, issue.id) %>
            <%= ')' %>
          </th>
          <th>
            <%= "#{truncate(issue.project.name)} (" %>
            <%= link_to "##{issue.project.sequence_num}", project_path(issue.project.sequence_num) %>
            <%= ')' %>
          </th>
          <th><%= issue.description.present? ? truncate(issue.description) : t('shared.index_views.dashes') %></th>
          <th><%= Issue.human_enum_name(:status, issue.status) %></th>
          <th><%= Issue.human_enum_name(:priority, issue.priority) %></th>
          <th><%= Issue.human_enum_name(:issue_type, issue.issue_type) %></th>
          <th>
            <%= link_to '<i class="fas fa-eye"></i>'.html_safe, project_issue_path(issue.project.sequence_num, issue.id), class: 'btn btn-sm btn-outline-info card-button mr-2'  %>
            <% if can? :update, issue %>
              <%= link_to '<i class="fas fa-pencil-alt"></i>'.html_safe, edit_project_issue_path(issue.project.sequence_num, issue.id), class: 'btn btn-outline-info btn-sm card-button mr-2' %>
            <% end %>
            <% if can? :destroy, issue %>
              <%= link_to '<i class="fas fa-trash-alt"></i>'.html_safe, project_issue_path(issue.project.sequence_num, issue.id), remote: true, method: :delete, data: { confirm: t('shared.deletion_confirmation_message', resource: Issue.model_name.human.downcase) }, class: 'btn btn-sm btn-outline-danger card-button' %>
            <% end %>
          </th>
        </tr>
      <% end %>
    </tbody>
  </table>  
</div>
<%== pagy_bootstrap_nav(pagy) %>